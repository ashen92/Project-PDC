<div class="list-view">
    <div>
        <div class="filters" id="filters">
            <div class="title">Filter by</div>
            <div class="category">
                <div class="fw-6 mb-5">Job Roles</div>
                <div class="px-5 data-category" data-category="Job Role">
                    <select id="jobRoleSelect" multiple>
                        {% for role in jobRoles %}
                        <option value="{{ role.id }}" {% if role.id in queryJobRoles %} selected {% endif %}>
                            {{ role.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            {% if ("ROLE_ADMIN" in user_roles) or ("ROLE_STUDENT" in user_roles) %}
            <div class="category">
                <div class="fw-6 mb-5">Company</div>
                <div class="px-5 data-category" data-category="Company">
                    <select id="companySelect" multiple>
                        {% for company in companies %}
                        <option value="{{ company.id }}" {% if company.id in queryCompanies %} selected {% endif %}>
                            {{ company.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            {% endif %}
            {% if ("ROLE_ADMIN" in user_roles) or ("ROLE_PARTNER" in user_roles) %}
            <div class="category">
                <div class="fw-6 mb-5">Internship Status</div>
                <div class="px-5 data-category" data-category="Internship Status">
                    <select id="statusSelect" multiple>
                        {% for status in internshipStatus %}
                        <option value="{{ status }}" {% if status in queryInternshipStatus %} selected {% endif %}>
                            {{ status }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    <div class="list" id="jobListings">
        {% for item in internships %}
        <div class="item" data-roles="{{ item.roles }}" data-companies="{{ item.companies }}">
            <a class="description" href="internship/{{ item.id }}">
                <div class="fw-6 pb-10">{{ item.title }}</div>
                <div><span class="italic fc-light">at </span>{{item.firstName}}</div>
            </a>

            {% if ("ROLE_PARTNER" in user_roles) or ("ROLE_ADMIN" in user_roles) %}
            <div class="actions">
                <a class="action" href="internship/{{ item.id }}/applicants">
                    <input type="button" value="Applicants">
                </a>
                <a class "action" href="internship/{{ item.id }}/edit">
                    <input type="button" value="Edit">
                </a>
                <a class "action" href="">
                    <input type="button" value="Remove">
                </a>
            </div>
            {% endif %}

            {% if "ROLE_STUDENT" in user_roles %}
            <div class="actions">
                <a class="action" href="">
                    <input type="button" value="Apply">
                </a>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>


{% block js %}
<script src="/js/internships.js" type="text/javascript"></script>
{% endblock js %}