{% extends "shared/layout-left-nav.html" %}

{% block title %}{{ requirement.name }}{% endblock %}

{% block left_nav %}
{% include "internship-program/left-nav.html" %}
{% endblock %}

{% block content %}

<div class="title mb-0">
    <h3>{{ requirement.name }}</h3>
</div>
<section class="mt-0">
    <form>
        <div class="divider"></div>
        <h5 class="fw-5 mb-20">Description</h5>
        <div class="mb-30 formatted-text-area border-1 p-20 rounded-1">{{ requirement.description|raw }}</div>

        <h5 class="fw-4">Type</h5>
        <p class="mb-25 capitalize">{{ requirement.type }}</p>

        {% if requirement.type == "recurring" %}
        <h5 class="fw-4">Repeat interval</h5>
        <p class="mb-25 capitalize">{{ requirement.repeatInterval }}</p>
        {% endif %}

        <h5 class="fw-4">Start date</h5>
        <p class="mb-25">{{ requirement.startDate.format("Y-m-d") }}</p>

        {% if requirement.type == "one-time" %}
        <h5 class="fw-4">End before date</h5>
        <p class="mb-25">{{ requirement.endBeforeDate.format("Y-m-d") }}</p>
        {% endif %}
        <div class="divider"></div>
    </form>

    <div>
        {% if "ROLE_ADMIN" in user_roles %}
        <div class="actions">
            <button class="btn" type="button">Modify</button>
            <button class="btn" type="button">Remove</button>
        </div>
        {% endif %}

        <div class="divider"></div>

        {# {% if "ROLE_INTERNSHIP_STUDENT" in user_roles %} #}
        <form action="/internship-program/requirements/complete" method="POST" enctype="multipart/form-data">

            <input type="hidden" name="requirement-id" value="{{ requirement.id }}" />

            <div class="field-file-upload">
                <label class="btn" for="fileToUpload">Select file to upload</label>
                <input type="file" name="fileToUpload" id="fileToUpload">
                <div class="preview" id="fileToUpload-preview">
                    <p>No files currently selected for upload</p>
                </div>
            </div>

            <div class="field-file-upload">
                <label class="btn" for="filesToUpload">Select files to upload</label>
                <input type="file" name="filesToUpload" id="filesToUpload" multiple>
                <div class="preview" id="filesToUpload-preview">
                    <p>No files currently selected for upload</p>
                </div>
            </div>

            <button class="btn" type="button">Submit</button>
        </form>
        {# {% endif %} #}

    </div>
</section>

{% endblock %}

{% block js %}
<script src="/js/requirement-view.js" type="text/javascript"></script>
{% endblock %}